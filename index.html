<html>

<head>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
  <link rel='stylesheet' href='dist/formio.full.min.css'>
  <script src='dist/formio.full.js'></script>
  <style>
    .formio-component-score input {
      width: 100px;
    }

    .formio-component-question textarea {
      resize: none;
    }
  </style>
</head>

<body>
  <div id='formio'></div>
  <script type='text/javascript'>
    window.onload = function () {
      var builder = {
        readOnly: true,
        builder: {
          basic: false,
          advanced: false,
          data: false,
          layout: false,
          customBasic: {
            title: 'Survey builder',
            default: true,
            weight: 0,
            components: {
              textfield: {
                title: 'Text Question',
                key: 'textquestions',
                icon: 'fa fa-terminal',
                schema: {
                  'tags': [],
                  'type': 'textfield',
                  'persistent': true,
                  'protected': false,
                  'defaultValue': '',
                  'key': 'textquestions',
                  'label': 'Text Question',
                  'tableView': true,
                  'input': true
                }
              },
              select: {
                title: 'Dropdown Question',
                key: 'dropdownquestions',
                icon: 'fa fa-plus-square',
                schema: {
                  'tags': [],
                  'type': 'select',
                  'persistent': true,
                  'protected': false,
                  'defaultValue': '',
                  'key': 'dropdownquestions',
                  'label': 'Dropdown Question',
                  'tableView': true,
                  'input': true
                }
              },
              textarea: {
                title: 'Textarea Question',
                key: 'textareaquestions',
                icon: 'fa fa-font',
                schema: {
                  'tags': [],
                  'type': 'textarea',
                  'persistent': true,
                  'protected': false,
                  'defaultValue': '',
                  'key': 'textareaquestions',
                  'label': 'Textarea Question',
                  'tableView': true,
                  'input': true
                }
              },
              surveys: {
                title: 'Yes/No Question',
                key: 'survey',
                icon: 'fa fa-list-alt',
                schema: {
                  'tags': [],
                  'type': 'survey',
                  'persistent': true,
                  'protected': false,
                  'defaultValue': '',
                  'values': [{
                    'label': 'Yes',
                    'value': '100'
                  }, {
                    'label': 'No',
                    'value': '0'
                  }, {
                    'label': 'NA',
                    'value': '100'
                  }],
                  'questions': [
                    {
                      'question': '',
                      'value': 'ques1',
                      'comment': false,
                      'score': 0,
                    }
                  ],
                  'key': 'surveyQuestions',
                  'label': 'Yes/No Question',
                  'tableView': true,
                  'input': true
                }
              },
              ratings: {
                title: 'Rating Question',
                key: 'rsurvey',
                icon: 'fa fa-star',
                schema: {
                  'tags': [],
                  'type': 'survey',
                  'persistent': true,
                  'protected': false,
                  'defaultValue': '',
                  'values': [{
                    'label': 'Always',
                    'value': '100'
                  }, {
                    'label': 'Often',
                    'value': '70'
                  }, {
                    'label': 'Sometimes',
                    'value': '35'
                  }, {
                    'label': 'Never',
                    'value': '0'
                  }],
                  'questions': [
                    {
                      'question': '',
                      'value': 'ques1',
                      'comment': false,
                      'score': 0,
                    }
                  ],
                  'key': 'ratingQuestions',
                  'label': 'Rating Questions',
                  'tableView': true,
                  'input': true
                }
              },
              fieldset: {
                title: 'Questions Group',
                key: 'fieldset',
                icon: 'fa fa-object-group',
                schema: {
                  'tags': [],
                  'type': 'fieldset',
                  'persistent': true,
                  'protected': false,
                  'defaultValue': '',
                  'groupMode': 'default',
                  'key': 'fieldset',
                  'legend': 'Questions Group',
                  'label': 'Questions Group',
                  'tableView': true,
                  'input': true
                }
              }
            }
          },
        }
      };

      var formdata = {
        "type": "form",
        "tags": [],
        "owner": "554806425867f4ee203ea861",
        "components": [
          {
            "input": true,
            "label": "Default",
            "parent": true,
            "key": "questionsGroup",
            "groupMode": "default",
            "components": [],
            "defaultValue": "",
            "protected": false,
            "persistent": true,
            "unique": false,
            "tableView": true,
            "type": "fieldset",
          }
        ]
      };
      // Formio.createForm(document.getElementById('formio'), {}, builder);

      Formio.builder(document.getElementById('formio'), formdata, builder).then(function (instance) {
        // _this.formio = instance;
        instance.on('formUpdate', function (event, form) {
          // console.info(instance.data);
        });
        instance.on('saveComponent', function () {
          console.info(instance.component);
          // console.info(instance);
        });
        instance.on('updateComponent', function () {
          // console.info(instance);
        });
        instance.on('deleteComponent', function () {
          // console.info(instance);
        });
        // _this.readyResolve(instance);
        return instance;
      });
    };
  </script>
</body>

</html>